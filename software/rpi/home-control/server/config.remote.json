{
    "shutdownMillis": 2000,
    "server": {
        "start": true,
        "port": 8081,
        "morgan": {
            "disabled": true,
            "config": "tiny"
         }
    },
    "auth": {
        "privatekey": "../keys/server-key.pem",
        "publickey": "../keys/server-pubkey.pem",
        "authorizationUri": "/auth",
        "accessTokenTimeout": "5m",
        "remoteTokenTimeout": "23:59:59",
        "remoteTokenMinimumSeconds": 60
    },
    "gateway": {
        "disabled": true
    },
    "database-users": {
        "users": [
            { "userid": "test", "disabled": false, "passwordType": "raw", "password": "geheim" },
            { "userid": "manfred", "isAdmin": true, "passwordType": "sha-256", "password": "ec53103cc64f4c2e1a97450d835e1e19c81b68cdd4ea8d48863ed232f73c916d" },
            { "userid": "sabine", "passwordType": "sha-256", "password": "def5c2d284e33ab044b533c719523ef394b9f113250e88aabd97e7ddf6555c5d" }
        ]
    },
    "froniusSymo": {
        "disabled": false,
        "host": "192.168.1.180",
        "port": "502",
        "modbusAddress": 1,
        "register":          { "disabled": false, "pollingMillis": 55000, "timeoutMillis": 10000 },
        "common":            { "disabled": false, "pollingMillis": 56000, "timeoutMillis": 10000 },
        "inverter":          { "disabled": false, "pollingMillis":  3000, "timeoutMillis": 10000 },
        "nameplate":         { "disabled": false, "pollingMillis": 57000, "timeoutMillis": 10000 },
        "settings":          { "disabled": false, "pollingMillis":  4000, "timeoutMillis": 10000 },
        "status":            { "disabled": false, "pollingMillis":  4000, "timeoutMillis": 10000 },
        "control":           { "disabled": false, "pollingMillis":  4000, "timeoutMillis": 10000 },
        "storage":           { "disabled": false, "pollingMillis":  3000, "timeoutMillis": 10000 },
        "inverterExtension": { "disabled": false, "pollingMillis":  3000, "timeoutMillis": 10000 }
    },
    "gridMeter": {
        "disabled": false,
        "host": "192.168.1.180",
        "port": "502",
        "type": "froniusmeter",
        "modbusAddress": 240,
        "pollingMillis": 2000,
        "timeoutMillis": 10000
    },
    "monitor": {
        "disabled": false,
        "periodMillis": 1000,
        "timeOffset": { "sec": 1, "ms": 0 },
        "froniusPeriodMillis": 2000,
        "logfile": { "type": "csv", "path": "/var/lib/home-control/logs/home-control_%Y-%M-%D.csv" },
        "debugFile": { "path": "/var/lib/home-control/logs/home-control-debug_%Y-%M-%D.csv" },
        "tempFile": { "path": "/var/lib/home-control/logs/.monitor-temp", "backups": 3 }
    },
    "statistics-old": {
        "disabled": false,
        "timeslotSeconds": 60,
        "tmpFile": "/var/lib/home-control/logs/.tmpDatabase",
        "dbtyp": "csvfile",
        "csvfile": { "filename": "/var/lib/home-control/logs/fronius-data_%Y-%M-%D.csv"  }
    },
    "archive": {
        "disabled": false,
        "path": {
            "minute": { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-minute_%YYYY-%MM-%DD_%hh%m.json.gz" },
            "min10":  { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-min10_%YYYY-%MM-%DD_%hh%m.json.gz" },
            "hour":   { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-hour_%YYYY-%MM-%DD_%hh.json.gz" },
            "day":    { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-day_%YYYY-%MM-%DD.json.gz" },
            "week":   { "path": "/var/lib/home-control/%YYYY/%YYYY-weeks/home-control-values-week_%YYYY-KW%WW.json.gz" },
            "month":  { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/home-control-values-month_%YYYY-%MM.json.gz" },
            "year":   { "path": "/var/lib/home-control/%YYYY/home-control-values-year_%YYYY.json.gz" }
        }
    },
    "statistics": {
       "disabled": false,
       "cache": {
            "disabled": false,
            "init": true,
            "backup": { "path": "/var/lib/home-control/logs/statistics-cache.json", "periodSeconds": 30, "rotate": 3 },
            "save": {
                "minute": { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-minute_%YYYY-%MM-%DD_%hh%m.json.gz", "options": { "pretty": true } },
                "min10":  { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-min10_%YYYY-%MM-%DD_%hh%m.json.gz", "options": { "pretty": true } },
                "hour":   { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-hour_%YYYY-%MM-%DD_%hh.json.gz", "options": { "pretty": true } },
                "day":    { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/%YYYY-%MM-%DD/home-control-values-day_%YYYY-%MM-%DD.json.gz", "options": { "pretty": true } },
                "week":   { "path": "/var/lib/home-control/%YYYY/%YYYY-weeks/home-control-values-week_%YYYY-KW%WW.json.gz", "options": { "pretty": true } },
                "month":  { "path": "/var/lib/home-control/%YYYY/%YYYY-%MM/home-control-values-month_%YYYY-%MM.json.gz", "options": { "pretty": true } },
                "year":   { "path": "/var/lib/home-control/%YYYY/home-control-values-year_%YYYY.json.gz", "options": { "pretty": true } }
            }
        },
       "data": [{
            "ids":   [
                "pPv", "pPvS", "pPvEW", "pBat", "pGrid", "pBoiler", "pHeatPump", "pLoad",
                "eOut", "eIn", "eOutDaily", "eInDaily", "eBoilerDaily", "eHeatPumpDaily", "ePvDaily", "ePvSDaily", "ePvEWDaily",
                "capBatPercent",
                "tOutdoor", "tHeatSupply", "tHeatBuffer", "tHeatSupplyReturn", "tHeatBrineIn", "tHeatBrineOut", "fHeatCompressor"
            ],
            "range": "minute",
            "file": {
                "name": "Home Control",
                "typ": "csv",
                "path": "/var/lib/home-control/logs/hc_%YYYY-%MM-%DD.csv",
                "fields": [
                    { "id": "count", "title": "Anzahl" },
                    { "id": "fromTime", "title": "Beginn (%YYYY-%MM-%DD)", "format": "%hh:%mm:%ss" },
                    { "id": "toTime", "title": "Ende" },
                    { "id": "tOutdoor", "title": "t-Außen/°C","typ": "twa", "format": "%.01f" },
                    { "id": "eOutDaily", "title": "E-Lieferung-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "eInDaily", "title": "E-Bezug-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "ePvDaily", "title": "E-PV-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "ePvSDaily", "title": "E-PV-S-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "ePvEWDaily", "title": "E-PV-EW-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "capBatPercent", "title": "Bat/%", "typ": "twa", "format": "%.1f" },
                    { "id": "pGrid", "title": "P-Netz/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pBat", "title": "P-Bat/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pPv", "title": "P-PV/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pPvS", "title": "P-PV-S/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pPvEW", "title": "P-PV-EW/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pBoiler", "title": "P-Boiler/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pHeatPump", "title": "P-Heizung/W", "typ": "twa", "format": "%.0f" },
                    { "id": "tHeatSupply", "title": "t-Vorlauf/°C", "typ": "twa", "format": "%.1f" },
                    { "id": "tHeatBuffer", "title": "t-Puffer/°C", "typ": "twa", "format": "%.1f" },
                    { "id": "eBoilerDaily", "title": "E-Boiler-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.2f" },
                    { "id": "eHeatPumpDaily", "title": "E-Heizung-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.2f" },
                    { "id": "eOut", "title": "E-Lieferung/kWh", "typ": "max", "factor": 0.001, "format": "%.1f" },
                    { "id": "eIn", "title": "E-Bezug/kWh", "typ": "max", "factor": 0.001, "format": "%.1f" }
                ]
            }
        },{
            "ids":   [
                "pPv", "pPvS", "pPvEW", "pBat", "pGrid", "pBoiler", "pHeatPump", "pLoad",
                "eOut", "eIn", "eOutDaily", "eInDaily", "eBoilerDaily", "eHeatPumpDaily", "ePvDaily", "ePvSDaily", "ePvEWDaily",
                "capBatPercent",
                "tOutdoor", "tHeatSupply", "tHeatBuffer", "tHeatSupplyReturn", "tHeatBrineIn", "tHeatBrineOut", "fHeatCompressor",
                "eBatOutDaily", "eBatInDaily"
            ],
            "range": "minute",
            "file": {
                "name": "Home Control",
                "typ": "csv",
                "path": "/var/lib/home-control/logs/hc-new_%YYYY-%MM-%DD.csv",
                "fields": [
                    { "id": "count", "title": "Anzahl" },
                    { "id": "fromTime", "title": "Beginn (%YYYY-%MM-%DD)", "format": "%hh:%mm:%ss" },
                    { "id": "toTime", "title": "Ende" },
                    { "id": "tOutdoor", "title": "t-Außen/°C","typ": "twa", "format": "%.01f" },
                    { "id": "eOutDaily", "title": "E-Lieferung-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "eInDaily", "title": "E-Bezug-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "ePvDaily", "title": "E-PV-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "ePvSDaily", "title": "E-PV-S-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "ePvEWDaily", "title": "E-PV-EW-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "eBatOutDaily", "title": "E-BAT-Entladung-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "eBatInDaily", "title": "E-BAT-Ladung-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.02f" },
                    { "id": "capBatPercent", "title": "Bat/%", "typ": "twa", "format": "%.1f" },
                    { "id": "pGrid", "title": "P-Netz/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pBat", "title": "P-Bat/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pPv", "title": "P-PV/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pPvS", "title": "P-PV-S/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pPvEW", "title": "P-PV-EW/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pBoiler", "title": "P-Boiler/W", "typ": "twa", "format": "%.0f" },
                    { "id": "pHeatPump", "title": "P-Heizung/W", "typ": "twa", "format": "%.0f" },
                    { "id": "tHeatSupply", "title": "t-Vorlauf/°C", "typ": "twa", "format": "%.1f" },
                    { "id": "tHeatBuffer", "title": "t-Puffer/°C", "typ": "twa", "format": "%.1f" },
                    { "id": "eBoilerDaily", "title": "E-Boiler-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.2f" },
                    { "id": "eHeatPumpDaily", "title": "E-Heizung-Tag/kWh", "typ": "max", "factor": 0.001, "format": "%.2f" },
                    { "id": "eOut", "title": "E-Lieferung/kWh", "typ": "max", "factor": 0.001, "format": "%.1f" },
                    { "id": "eIn", "title": "E-Bezug/kWh", "typ": "max", "factor": 0.001, "format": "%.1f" }
                ]
            }
        }]
    },
    "pi-technik": {
        "disabled": false,
        "host": "192.168.1.4",
        "port": 80,
        "path": "/data",
        "pollingMillis": 2000,
        "timeoutMillis": 1000
    },
    "nibe1155": {
        "disabled": false,
        "host": "192.168.1.202",
        "port": 8080,
        "path": "/data/monitor",
        "pathMode": "/nibe/mode",
        "authentication": {
            "jwt": {
                "user": { "userid": "home-control", "passwordType": "raw", "password": "home-control-1234" },
                "path": "/auth"
            }
        },
        "pollingPeriodMillis": 2000,
        "timeoutMillis": 1000
    },
    "hot-water-controller": {
        "disabled": false,
        "host": "192.168.1.5",
        "port": 8080,
        "path": "/data/monitor",
        "pathController": "/controller",
        "pin": "1234",
        "pollingPeriodMillis": 2000,
        "timeoutMillis": 1000
    },
    "debug": {
        "depth": 5,
        "colors" : true,
        "wtimediff": 6,
        "time": "ddd, yyyy-mm-dd HH:MM:ss.l",
        "wmodule": 15,
        "wlevel": 6,
        "location": "-*",
        "enabled": "*::WARN, *::INFO, *::FINE"
    },
    "logfile": {
        "fronius14": { "disabled": true, "filename": "/var/lib/home-control/logs/device14.log", "namespaces": "*FroniusDevice14::INFO", "locationNamespaces": "-*" },
        "spy": { "disabled": true, "filename": "/var/lib/home-control/logs/spy.log", "namespaces": "spy*::WARN, spy*::INFO, spy*::FINE", "locationNamespaces": "-*" }
    }
}
